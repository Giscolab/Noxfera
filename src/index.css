@import url('https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============== DESIGN SYSTEM FONDATEUR =============== */
@layer base {

  :root {
    /* Couleurs principales */
    --primary: 198 42.08% 24.49%;
    --primary-dark: 260.9deg 88.76% 48.82%;
    --highlight: 262 83% 58% / 0.1;

    /* Surfaces & fonds */
    --background: 220 41% 95%;
    --surface: 0 0% 100%;
    --card: 220 14% 96%;

    /* Texte */
    --text-primary: 224 71% 4%;
    --text-secondary: 220 9% 46%;
    --foreground: var(--text-primary);
    --card-foreground: var(--text-primary);
    --popover: var(--card);
    --popover-foreground: var(--text-primary);

    /* Feedback */
    --success: 142 76% 36%;
    --warning: 45 93% 47%;
    --error: 0 84% 60%;

    /* Bordures */
    --border: 220 13% 91%;
    --border-dark: 220 13% 81%;
    --border-light: 220 13% 100%;
    --border-shadow: 
      0.3rem 0.3rem 0.6rem hsl(var(--border-dark)),
      -0.2rem -0.2rem 0.5rem hsl(var(--border-light));

    --input: var(--border);
    --ring: var(--primary);
    --radius: 0.75rem;

    /* Neumorphisme */
    --neumorph-distance: 12px;
    --neumorph-intensity: 0.15;
    --neumorph-blur: 24px;
    --neumorph-light: 224 41% 81%;
    --neumorph-dark: 220 14% 82%;

    --neumorph-shadow-light: calc(-1 * var(--neumorph-distance)) calc(-1 * var(--neumorph-distance)) var(--neumorph-blur) hsl(var(--neumorph-light) / var(--neumorph-intensity));
    --neumorph-shadow-dark: var(--neumorph-distance) var(--neumorph-distance) var(--neumorph-blur) hsl(var(--neumorph-dark) / var(--neumorph-intensity));

    /* Gris / neutres */
    --white: hsl(0 0% 100%);
    --greyLight-1: hsl(215.29deg 45.95% 92.75%);
    --greyLight-2: hsl(224.52deg 39.24% 84.51%);
    --greyLight-3: hsl(224.21deg 41.3% 81.96%);
    --greyDark: hsl(222.69deg 35.14% 70.98%);
  }

  /* Themes personnalis√©s */
  .dracula {
    --primary: 265 89% 78%;
    --primary-dark: 265 31% 52%;
    --background: 231 15% 18%;
    --surface: 225 27% 22%;
    --text-primary: 60 30% 96%;
    --text-secondary: 225 14% 64%;
    --neumorph-light: 231 13% 24%;
    --neumorph-dark: 231 16% 14%;
  }

  .frankenstein {
    --primary: 120 73% 75%;
    --primary-dark: 120 25% 35%;
    --background: 0 0% 15%;
    --surface: 0 0% 25%;
    --text-primary: 60 30% 90%;
    --text-secondary: 120 10% 65%;
    --neumorph-light: 0 0% 20%;
    --neumorph-dark: 0 0% 10%;
  }

  .mummy {
    --primary: 45 100% 60%;
    --primary-dark: 30 70% 40%;
    --background: 30 30% 12%;
    --surface: 30 25% 20%;
    --text-primary: 45 40% 90%;
    --text-secondary: 30 20% 65%;
    --neumorph-light: 30 25% 17%;
    --neumorph-dark: 30 35% 7%;
  }

  .werewolf {
    --primary: 200 15% 80%;
    --primary-dark: 200 25% 40%;
    --background: 100 10% 10%;
    --surface: 100 8% 15%;
    --text-primary: 60 10% 85%;
    --text-secondary: 100 10% 65%;
    --neumorph-light: 100 9% 13%;
    --neumorph-dark: 100 11% 7%;
  }

  .phantom {
    --primary: 290 50% 60%;
    --primary-dark: 290 30% 35%;
    --background: 0 0% 8%;
    --surface: 290 10% 15%;
    --text-primary: 50 40% 90%;
    --text-secondary: 290 15% 65%;
    --neumorph-light: 290 9% 11%;
    --neumorph-dark: 290 11% 5%;
  }

  .dorian {
    --primary: 35 60% 65%;
    --primary-dark: 35 40% 45%;
    --background: 35 30% 15%;
    --surface: 35 25% 25%;
    --text-primary: 35 30% 90%;
    --text-secondary: 35 20% 65%;
    --neumorph-light: 35 25% 20%;
    --neumorph-dark: 35 35% 10%;
  }

  .witch {
    --primary: 330 80% 65%;
    --primary-dark: 270 50% 45%;
    --background: 60 10% 12%;
    --surface: 60 15% 18%;
    --text-primary: 60 40% 90%;
    --text-secondary: 330 20% 65%;
    --neumorph-light: 60 12% 15%;
    --neumorph-dark: 60 8% 9%;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Manrope', sans-serif;
    font-feature-settings: 'ss01', 'ss02', 'cv01', 'cv03';
    overflow: hidden;
  }

  /* Fichiers */
  .file-icon.html       { color: #e34c26; }
  .file-icon.css        { color: #2965f1; }
  .file-icon.javascript,
  .file-icon.json       { color: #f0db4f; }
  .file-icon.typescript { color: #3178c6; }
  .file-icon.python     { color: #3572A5; }
  .file-icon.markdown   { color: #083fa1; }

  /* Animations */
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(10px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  @keyframes slide-in-right {
    from { transform: translateX(100%); }
    to   { transform: translateX(0); }
  }

  @keyframes pulse-glow {
    0%, 100% { opacity: 0.5; transform: scale(1); }
    50%      { opacity: 0.8; transform: scale(1.05); }
  }
}

@layer components {
  .app-grid {
    display: grid;
    grid-template-columns: 320px 1fr;
    grid-template-rows: 70px 1fr 50px;
    grid-template-areas:
      "header header"
      "sidebar main"
      "footer footer";
    height: 100vh;
    gap: 16px;
    padding: 16px;
  }

  .app-grid.sidebar-collapsed {
    grid-template-columns: 80px 1fr;
  }

  .header {
    grid-area: header;
    @apply bg-card flex items-center justify-between px-8 rounded-xl;
    box-shadow:
      8px 8px 16px hsl(var(--neumorph-shadow-dark)),
     -8px -8px 16px hsl(var(--neumorph-shadow-light));
    border: 1px solid hsl(var(--border));
  }

  .footer {
    grid-area: footer;
    @apply bg-card flex items-center justify-between px-8 text-sm text-muted-foreground rounded-xl;
    box-shadow:
      4px 4px 8px hsl(var(--neumorph-shadow-dark)),
     -4px -4px 8px hsl(var(--neumorph-shadow-light));
    border: 1px solid hsl(var(--border));
  }

  .sidebar {
    grid-area: sidebar;
    @apply bg-card py-6 flex flex-col rounded-xl;
    box-shadow:
      calc(var(--neumorph-distance) * 2)
      calc(var(--neumorph-distance) * 2)
      calc(var(--neumorph-blur) * 2)
      hsl(var(--neumorph-dark) / calc(var(--neumorph-intensity) * 1.5)),
      calc(-1 * var(--neumorph-distance) * 2)
      calc(-1 * var(--neumorph-distance) * 2)
      calc(var(--neumorph-blur) * 2)
      hsl(var(--neumorph-light) / calc(var(--neumorph-intensity) * 1.5));
  }

  .main-content {
    grid-area: main;
    @apply bg-background overflow-hidden;
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto 1fr;
    gap: 16px;
  }
}

@layer utilities {
  /* ==== ANIMATIONS ==== */
  .animate-fade-in {
    animation: fade-in 0.3s ease-out;
  }

  .animate-slide-in-right {
    animation: slide-in-right 0.3s ease-out;
  }

  .animate-pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }

  /* ==== BACKGROUND COLORS ==== */
  .bg-accent              { background-color: hsl(var(--accent)); }
  .bg-accent\/50          { background-color: hsl(var(--accent) / 0.5); }
  .bg-background          { background-color: hsl(var(--background)); }
  .bg-background\/50      { background-color: hsl(var(--background) / 0.5); }
  .bg-background\/80      { background-color: hsl(var(--background) / 0.8); }
  .bg-border              { background-color: hsl(var(--border)); }
  .bg-card                { background-color: hsl(var(--card)); }
  .bg-card\/50            { background-color: hsl(var(--card) / 0.5); }
  .bg-destructive\/10     { background-color: hsl(var(--destructive) / 0.1); }
  .bg-foreground          { background-color: hsl(var(--foreground)); }
  .bg-muted               { background-color: hsl(var(--muted)); }
  .bg-muted\/20           { background-color: hsl(var(--muted) / 0.2); }
  .bg-muted\/30           { background-color: hsl(var(--muted) / 0.3); }
  .bg-primary             { background-color: hsl(var(--primary)); }
  .bg-primary\/10         { background-color: hsl(var(--primary) / 0.1); }
  .bg-primary\/20         { background-color: hsl(var(--primary) / 0.2); }
  .bg-secondary           { background-color: hsl(var(--secondary)); }
  .bg-sidebar             { background-color: hsl(var(--sidebar-background)); }
  .bg-surface             { background-color: hsl(var(--surface)); }

  /* ==== BORDER COLORS ==== */
  .border-border          { border-color: hsl(var(--border)); }
  .border-border\/30      { border-color: hsl(var(--border) / 0.3); }
  .border-border\/50      { border-color: hsl(var(--border) / 0.5); }
  .border-primary         { border-color: hsl(var(--primary)); }
  .border-sidebar-border  { border-color: hsl(var(--sidebar-border)); }

  /* ==== TEXT COLORS ==== */
  .text-foreground             { color: hsl(var(--foreground)); }
  .text-muted-foreground       { color: hsl(var(--muted-foreground)); }
  .text-primary                { color: hsl(var(--primary)); }
  .text-primary\/80            { color: hsl(var(--primary) / 0.8); }
  .text-destructive            { color: hsl(var(--destructive)); }
  .text-destructive\/80        { color: hsl(var(--destructive) / 0.8); }
  .text-sidebar-foreground     { color: hsl(var(--sidebar-foreground)); }
  .text-success                { color: hsl(var(--success)); }
  .text-warning                { color: hsl(var(--warning)); }

  /* ==== SHADOWS ==== */
  .border-shadow {
    box-shadow: var(--border-shadow);
  }

  .shadow-neu {
    box-shadow:
      var(--neumorph-shadow-dark),
      var(--neumorph-shadow-light);
  }

  .shadow-neu-inset {
    box-shadow:
      inset var(--neumorph-distance) var(--neumorph-distance) var(--neumorph-blur) hsl(var(--neumorph-dark) / var(--neumorph-intensity)),
      inset calc(-1 * var(--neumorph-distance)) calc(-1 * var(--neumorph-distance)) var(--neumorph-blur) hsl(var(--neumorph-light) / var(--neumorph-intensity));
  }
}


